global.dialogues = {
    10010001: [
        ["———— 第 一 章 ————", "", "", "m"],
        ["本整合包不能在和平模式下游玩！推荐普通模式。", "", "作者", "m"],
        ["三叉戟左键可以跳过一句对话。", "", "作者", "m"],
        ["剧情中会包含一些教程。建议看完了再跳过。", "", "作者", "m"],
        // ["嗯……就是这里没错了。", "player_normal.png", "$player", "l"],
        // ["……没搞错吧？", "player_upset.png", "$player", "l"],
        // ["嘟——嘟——嘟——", "player_phone.png", "$player", "l"],
        // ["喂？", "guide_phone.png", "阿莱娅", "r"],
        // ["你给我的坐标是一个鸟不拉屎的无人岛。你说要我干的『活』在哪里？", "player_phone.png", "$player", "l"],
        // ["嘿嘿，这可是能赚大钱的生意！", "guide_phone.png", "阿莱娅", "r"],
        // ["这片海域下方有着错综复杂的洞穴，洞穴里有着各种不同的生态系统……", "guide_phone.png", "阿莱娅", "r"],
        // ["而且，有着各种各样无比奇异的鱼类！用它们做寿司，开一家寿司店，肯定能赚大钱！", "guide_phone.png", "阿莱娅", "r"],
        // ["你就不能早点说清楚吗？说的神神秘秘的，我还以为是那种活。我家伙什都带来了。", "player_phone.png", "$player", "l"],
        // ["这可不是什么鱼叉啊。", "player_trident.png", "$player", "l"],
        // ["哎呀，说到这个……可能一会还真得把它当鱼叉用。", "guide_phone.png", "阿莱娅", "r"],
        // ["你说啥？不对，比起这个，你打算怎么让顾客愿意到这个破岛上吃寿司？又打算怎样拿到洞穴深处的鱼？", "player_phone.png", "$player", "l"],
        // ["这个你不用担心，我早就联系好了一名专精传送法术的女巫。", "guide_phone.png", "阿莱娅", "r"],
        // ["一会我到岛上再和你慢慢说吧……你先把那个『传送锚点』放下来。", "guide_phone.png", "阿莱娅", "r"],
        // ["有了传送锚点我就能过去了。以后找不到我的时候也可以『右键』传送锚点让我传送过去。", "guide_phone.png", "阿莱娅", "r"],
        // ["……那为啥还要我跑一趟？不能早点把我传送过来？", "player_phone.png", "$player", "l"],
        // ["嘟——嘟——嘟——", "guide_phone.png", "阿莱娅", "r"],
        // ["行吧。", "player_upset.png", "$player", "l"]
    ],
    10010002: [
        ["噔噔！厉害吧！", "guide_happy.png", "阿莱娅", "r"],
        ["所以说……你打算怎么解决那些问题？", "player_upset.png", "$player", "l"],
        ["顾客这一块先不需要急，广告宣传已经做好了，只要开业就能有顾客。", "guide_normal.png", "阿莱娅", "r"],
        ["你先拿上这个『钥匙』，右键那边的『钥匙刻字台』，放入『传送门基石』里面。", "guide_normal.png", "阿莱娅", "r"],
        ["钥匙用完了以后可以在工作台里面回收成金币，不过现在先不说这个。", "guide_weird.png", "阿莱娅", "r"],
        ["传送门会把你带到洞窟里面。", "guide_normal.png", "阿莱娅", "r"],
        ["至于怎么拿到鱼肉……你还记得怎么耍三叉戟吧？", "guide_weird.png", "阿莱娅", "r"],
        ["……『左键』向前突刺，造成范围伤害。突刺会被方块和实体阻挡。", "player_trident.png", "$player", "l"],
        ["……『长按右键』向前长距突刺。", "player_trident.png", "$player", "l"],
        ["……半血或者血量小于四颗心的实体可以处决。达到处决标准的实体会『发光』。", "player_trident.png", "$player", "l"],
        ["……『右键』可以处决的实体可以执行处决，恢复全部氧气以及50%的血量。", "player_trident.png", "$player", "l"],
        ["……『Q键』扔出三叉戟，在地牢维度中可以掷出三叉戟远程攻击。", "player_trident.png", "$player", "l"],
        ["就是这些了。", "player_normal.png", "$player", "l"],
        ["很好嘛！", "guide_happy.png", "阿莱娅", "r"],
        ["事不宜迟——赶快去试试吧！", "guide_normal.png", "阿莱娅", "r"],

    ],
    10010003: [
        ["鱼打来了。接下来怎么处理？", "player_fish.png", "$player", "l"],
        ["在『砧板』上面切一下就可以切成生鱼片了。", "guide_normal.png", "阿莱娅", "r"],
        ["接下来，副手拿着『寿司饭团』，主手拿着『生鱼片』，『左键』寿司台就可以制作寿司了！", "guide_normal.png", "阿莱娅", "r"],
        ["在『列表过滤器』里面放上你想要出售的寿司种类，『右键』柜台，就可以开业了！", "guide_happy.png", "阿莱娅", "r"],
        ["开店之前你可能需要先修一下那个回转寿司传送带。用扳手把传送带拆下来再放回去吧。", "guide_weird.png", "阿莱娅", "r"],
        ["『短榻榻米垫』是寿司店的座位，顾客会坐在上面从周围的置物台或者传送带里面拿寿司。", "guide_normal.png", "阿莱娅", "r"],
        ["顾客入座之后订单会显示在头上。完成所有订单之后，就可以右键顾客结账！", "guide_happy.png", "阿莱娅", "r"],
        ["收到的钱你可以用『/bank-extract』指令取出来。", "guide_normal.png", "阿莱娅", "r"],
        ["顾客有时候会『逃单』。逃单的顾客会冒出红色粒子。用你的三叉戟右键他们就可以拦下他们！", "guide_upset.png", "阿莱娅", "r"],
        ["有时会出现『寿司师傅』顾客，他们点的『复合寿司』必须在工作台上合成。", "guide_weird.png", "阿莱娅", "r"],
        ["完成他们的订单会额外奖励『寿司硬币』。寿司硬币可以用来买各种装饰！", "guide_normal.png", "阿莱娅", "r"],
        ["也就是全都要我来的意思呗？", "player_upset.png", "$player", "l"],
        ["我已经在招人啦！很快就能有员工帮忙了。", "guide_upset.png", "阿莱娅", "r"],
        ["要扩张店铺规模的话，起码得先赚到第一桶金再说吧……", "guide_weird.png", "阿莱娅", "r"],
        ["好吧。", "player_normal.png", "$player", "l"]
    ],
    10010004: [
        ["怎么样？赚到钱了吗？", "guide_happy.png", "阿莱娅", "r"],
        ["确实是赚了不少……但是这一个洞穴里面的鱼也不多啊。", "player_normal.png", "$player", "l"],
        ["嘛，接下来去『每日市场』里面再找佛罗斯特，就是我之前和你说的那位女巫，买一些钥匙就行了。", "guide_normal.png", "阿莱娅", "r"],
        ["每天睡觉醒来的时候你会自动获得一个每日市场钥匙。每日市场钥匙和其他的钥匙不同，无法回收。", "guide_weird.png", "阿莱娅", "r"],
        ["但是和别的钥匙一样，放进传送门基石里面就会打开传送门。这样就可以进入每日市场了。", "guide_normal.png", "阿莱娅", "r"],
        ["门口右手边，你就可以找佛罗斯特买钥匙。她平时带着个蓝色的帽子，很好认的。", "guide_normal.png", "阿莱娅", "r"],
        ["当然你也可以逛逛市场……你可以买到各种建材，矿物，机械，装饰……", "guide_happy.png", "阿莱娅", "r"],
        ["但切记不要全部花掉！我们还是要为了申请更高等级的店铺攒钱的。", "guide_weird.png", "阿莱娅", "r"],
        ["……如果你实在没钱了，买不起钥匙，可以挖矿去卖给矿物商人。", "guide_normal.png", "阿莱娅", "r"]
    ],
    10010005: [
        ["你还可以装饰一下寿司店，提高一下寿司店的吸引力！", "guide_happy.png", "阿莱娅", "r"],
        ["毕竟这是MC。店铺都可以自定义了，装饰建筑没有意义也太无聊了。", "player_normal.png", "$player", "l"],
        ["在寿司店里面放置『装饰方块』可以提升附近顾客的续单率。", "guide_normal.png", "阿莱娅", "r"],
        ["在任务里面你可以找到装饰图鉴。白色方块代表装饰本身的位置，绿色和红色方块代表影响范围。", "guide_weird.png", "阿莱娅", "r"],
        ["装饰的影响是乘算的。右键座位可以用粒子显示周围影响到座位的装饰，以及装饰对续单率的提升。", "guide_normal.png", "阿莱娅", "r"],
        ["装饰可以垫高至多三格，但不能竖直叠加，且每一种装饰对同一个座位只会有一次正面影响。", "guide_weird.png", "阿莱娅", "r"],
        ["有一些基础的装饰物是可以自己合成的……但是另一些则需要到市场里购买。", "guide_normal.png", "阿莱娅", "r"],
        ["而且，植物类的装饰物都可以用骨粉增生。", "guide_normal.png", "阿莱娅", "r"]
    ],
    10010006: [
        ["处理鱼肉的过程中，有些鱼里面会有鱼籽呢。", "guide_normal.png", "阿莱娅", "r"],
        ["洞窟里面的板条箱里面也有鱼籽。它们似乎习惯在里面产卵。", "player_normal.png", "$player", "l"],
        ["这些鱼籽有什么用呢……我听说有鲑鱼卵军舰的做法。这些鱼籽能不能作为食材呢？", "guide_normal.png", "阿莱娅", "r"],
        ["因为有些鱼籽的色调很相似，做鱼籽寿司内容的话就容易分辨不出来。", "", "作者", "m"],
        ["玩过前作的都知道河豚片和鳕鱼片有多阴间。而鱼籽寿司基本得阴间十倍。", "", "作者", "m"],
        ["所以说嘛……鱼籽只能用来养鱼了。", "", "作者", "m"],
        ["……不太行吧。都是那种质地很硬的鱼籽。用这些鱼籽来养鱼，如何？这样不必下洞窟就可以时不时收获鱼了。", "player_normal.png", "$player", "l"],
        ["好主意！", "guide_happy.png", "阿莱娅", "r"],
        ["试试用绳子圈一块『鱼塘』吧，然后在上面放一个『鱼塘控制器』……", "guide_normal.png", "阿莱娅", "r"],
        ["鱼塘控制器正下方3x3x3的空间内包含至少九个含水绳子就行。", "guide_weird.png", "阿莱娅", "r"],
        ["在里面放上鱼籽就可以孵化了！里面放一些海草还能提升孵化的速度！", "guide_happy.png", "阿莱娅", "r"],
        ["不过不要放的太挤，养鱼是需要一些空间的。", "guide_normal.png", "阿莱娅", "r"]
    ],
    10010007: [
        ["———— 第 二 章 ————", "", "", "m"],
        ["拿到铜执照了！我们的寿司事业正在稳步上升！", "guide_happy.png", "阿莱娅", "r"],
        ["不过如果要进一步打出名气，还是得进一步扩展菜单。", "guide_normal.png", "阿莱娅", "r"],
        ["本来佛罗斯特说她会准备好新区域的传送门的，但是她好像遇到麻烦了……", "guide_upset.png", "阿莱娅", "r"],
        ["一会我去问问吧。", "player_normal.png", "$player", "l"],
        ["然后嘛……有一个人来应聘保安了！", "guide_happy.png", "阿莱娅", "r"],
        ["之后你就不需要自己处理那些逃单的顾客了！", "guide_normal.png", "阿莱娅", "r"],
        ["除了工资之外，她还要求准备好……一把斧头？", "guide_weird.png", "阿莱娅", "r"],
        ["……一把斧头？", "player_upset.png", "$player", "l"]
    ],
    10010008: [
        ["———— 第 三 章 ————", "", "", "m"],
        ["拿到铁执照了！耶！", "guide_happy.png", "阿莱娅", "r"],
        ["事不宜迟，为了扩张店铺继续努力吧！", "guide_normal.png", "阿莱娅", "r"],
        ["但在此之前……佛罗斯特那边好像又遇到了麻烦。", "guide_normal.png", "阿莱娅", "r"],
        ["那帮家伙简直没完了……", "player_upset.png", "$player", "l"],
        ["先不说这个，我有一个老朋友说要来当收银员！", "guide_normal.png", "阿莱娅", "r"],
        ["她说只要给她一些闪闪发光的东西她就愿意来帮忙了！", "guide_happy.png", "阿莱娅", "r"],
        ["那听起来倒是不错。", "player_normal.png", "$player", "l"]
    ],
    10010009: [
        ["———— 第 四 章 ————", "", "", "m"],
        ["金执照！", "guide_happy.png", "阿莱娅", "r"],
        ["也许有一天我们能成为寿司传奇！", "guide_normal.png", "阿莱娅", "r"],
        ["佛罗斯特那边又出事了。你能解决的吧？", "guide_normal.png", "阿莱娅", "r"],
        ["没问题。", "player_trident.png", "$player", "l"],
        ["等你解决完那边的事……欧珀尔介绍了一位寿司师傅。", "guide_normal.png", "阿莱娅", "r"],
        ["她……好像是那种美食漫画里面的角色一样。她只要求你提供几个特定的复合寿司。", "guide_weird.png", "阿莱娅", "r"],
        ["……行吧。", "player_upset.png", "$player", "l"]
    ],
    10010010: [
        ["———— 第 五 章 ————", "", "", "m"],
        ["钻石执照啊……", "guide_normal.png", "阿莱娅", "r"],
        ["距离成为真正的传奇寿司店，只差一步了。", "guide_normal.png", "阿莱娅", "r"],
        ["佛罗斯特……她说这是她能找到的最后一个区域了。但是里面还是有些情况。", "guide_weird.png", "阿莱娅", "r"],
        ["感觉……好不真实啊。这么快，这家寿司店就走到了这一步……", "guide_normal.png", "阿莱娅", "r"],
        ["谢谢你。", "guide_happy.png", "阿莱娅", "r"],
        ["……不客气。", "player_upset.png", "$player", "l"],
        ["然后……好像有个人来找你了，她是你的熟人吗？", "guide_normal.png", "阿莱娅", "r"],
        ["她没找到你就留下了这个……『备用零件』的清单。她说你会懂的。", "guide_weird.png", "阿莱娅", "r"],
        ["……", "player_upset.png", "$player", "l"]
    ],
    10010011: [
        ["如果我们想做大做强，还是要研究研究怎么提升寿司价格。", "player_upset.png", "$player", "l"],
        ["哎呀——我之前做过功课的。", "guide_normal.png", "阿莱娅", "r"],
        ["寿司之间的味道是可以相佐互补的——『辅味』这个属性可以提升或减少之后订单的价格。", "guide_normal.png", "阿莱娅", "r"],
        ["辅味的下限为原本价格的50%，上限则为原本价格的500%。", "guide_happy.png", "阿莱娅", "r"],
        ["也就是我应该尽量在菜单里面选择一些高辅味的寿司？", "player_upset.png", "$player", "l"],
        ["也不尽然。辅味属性较低的寿司，价格和续单率一般较高。", "guide_normal.png", "阿莱娅", "r"],
        ["辅味需要有续单才能生效，而价格则决定了这个寿司的价格上限。", "guide_normal.png", "阿莱娅", "r"],
        ["除此之外，『丰富的菜单』也可以提升寿司的价格。", "guide_happy.png", "阿莱娅", "r"],
        ["菜单中每有一种寿司，就可以提升全体寿司5%的价格。", "guide_normal.png", "阿莱娅", "r"],
        ["……听起来提升不是很大嘛。", "player_upset.png", "$player", "l"],
        ["不同的提升方式之间是独立乘区。乘区内部是加算的，但是乘区之间是乘算的。", "guide_normal.png", "阿莱娅", "r"],
        ["听起来可能有点绕……重点是，各种提升方式都不能落下！", "guide_upset.png", "阿莱娅", "r"],
        ["你还可以用配料和材料提升寿司的『等级』。『右键』寿司台可以使用这些配料和生鱼片提升寿司的口味。", "guide_normal.png", "阿莱娅", "r"],
        ["每一级配料会增加5%『全体』寿司价格，每一级材料会增加20%『该种』寿司价格。", "guide_normal.png", "阿莱娅", "r"],
        ["你可以在『章节商人』那里买到各种配料材料的种子！当然，有时也可以在海上找到一些。", "guide_happy.png", "阿莱娅", "r"],
        ["很多配料都需要用到『泡菜坛』制作。有时会需要一些盐……盐可以用『蒸发器』获取。", "guide_normal.png", "阿莱娅", "r"],
        ["把『蒸发器』放在水边，就可以生产盐了。", "guide_normal.png", "阿莱娅", "r"]
    ],

    10020001: [
        ["用申请表格右键柜台，您就可以开启『铜执照』审核了。", "trial.png", "审核员", "r"],
        ["审核过程中，菜单固定为该章节的全体寿司。", "trial.png", "审核员", "r"],
        ["审核时长为五分钟。以销售额计分。请以『500分』为目标努力吧。", "trial.png", "审核员", "r"]
    ],
    10020011: [
        ["恭喜您通过了『铜执照』的审核，您可以在任务中领取您的铜执照。", "trial.png", "审核员", "r"],
        ["如果需要进一步提升店铺的等级，您需要进一步扩展菜单。", "trial.png", "审核员", "r"],
        ["在新的章节中继续努力吧。", "trial.png", "审核员", "r"]
    ],
    10020002: [
        ["用申请表格右键柜台，您就可以开启『铁执照』审核了。", "trial.png", "审核员", "r"],
        ["审核过程中，菜单固定为该章节的全体寿司。", "trial.png", "审核员", "r"],
        ["审核时长为五分钟。以销售额计分。请以『1000分』为目标努力吧。", "trial.png", "审核员", "r"]
    ],
    10020012: [
        ["恭喜您通过了『铁执照』的审核，您可以在任务中领取您的铁执照。", "trial.png", "审核员", "r"],
        ["如果需要进一步提升店铺的等级，您需要进一步扩展菜单。", "trial.png", "审核员", "r"],
        ["在新的章节中继续努力吧。", "trial.png", "审核员", "r"]
    ],
    10020003: [
        ["用申请表格右键柜台，您就可以开启『金执照』审核了。", "trial.png", "审核员", "r"],
        ["审核过程中，菜单固定为该章节的全体寿司。", "trial.png", "审核员", "r"],
        ["审核时长为五分钟。以销售额计分。请以『1600分』为目标努力吧。", "trial.png", "审核员", "r"]
    ],
    10020013: [
        ["恭喜您通过了『金执照』的审核，您可以在任务中领取您的金执照。", "trial.png", "审核员", "r"],
        ["如果需要进一步提升店铺的等级，您需要进一步扩展菜单。", "trial.png", "审核员", "r"],
        ["在新的章节中继续努力吧。", "trial.png", "审核员", "r"]
    ],
    10020004: [
        ["用申请表格右键柜台，您就可以开启『钻石执照』审核了。", "trial.png", "审核员", "r"],
        ["审核过程中，菜单固定为该章节的全体寿司。", "trial.png", "审核员", "r"],
        ["审核时长为五分钟。以销售额计分。请以『2500分』为目标努力吧。", "trial.png", "审核员", "r"]
    ],
    10020014: [
        ["恭喜您通过了『钻石执照』的审核，您可以在任务中领取您的钻石执照。", "trial.png", "审核员", "r"],
        ["如果需要进一步提升店铺的等级，您需要进一步扩展菜单。", "trial.png", "审核员", "r"],
        ["在新的章节中继续努力吧。", "trial.png", "审核员", "r"]
    ],
    10020005: [
        ["你好。这是你提出的『合金执照』申请的申请表格。你可以在任务中领取。", "trial_glasses.png", "协会会长", "r"],
        ["用表格右键柜台，就可以开启审核……不过我想如今你已经是轻车熟路了。", "trial_glasses.png", "协会会长", "r"],
        ["审核时长还是五分钟，最终的分数要求是『5000分』。这对你来说应该是小菜一碟吧。", "trial_glasses.png", "协会会长", "r"],
        ["我们期待着一位新的传奇的加入。", "trial_glasses.png", "协会会长", "r"]
    ],
    10020015: [
        ["你可以在任务里领取你的合金执照。", "trial_glasses.png", "协会会长", "r"],
        ["这意味着，这处『海岛寿司店』正式被认定为传奇寿司店。欢迎。", "trial_glasses.png", "协会会长", "r"],
        ["场面话说完了……一会有一些事情我想以个人的身份和你讨论一下。", "trial_glasses.png", "协会会长", "r"]
    ],
    10020006: [
        ["接下来的话，你当一个老头的疯话来听就行。", "trial_glasses_off.png", "协会会长", "r"],
        ["叫我博赞就好。", "trial_normal.png", "博赞", "r"],
        ["弗罗斯特和我说了一些你的事情……我以前也和你一样是一个冒险者。", "trial_normal.png", "博赞", "r"],
        ["在海洋的最深处，追寻着各种传说中的口味……", "trial_ponder.png", "博赞", "r"],
        ["直到那一天——一只传说中的海怪打碎了我的冒险者生涯，给我留下了这道伤疤。", "trial_normal.png", "博赞", "r"],
        ["它的触手可以撕裂维度，它的牙齿可以咬碎钻石——", "trial_normal.png", "博赞", "r"],
        ["……然后，那一天我从它身上撕扯下的一片肉片，是我此生尝过最神奇的美味。", "trial_happy.png", "博赞", "r"],
        ["我一直都很可惜，没能拿到一块可以用于制作寿司的优质鱼肉。", "trial_normal.png", "博赞", "r"],
        ["但……在那一天的狼狈过后，我已经失去挑战它的勇气了。", "trial_normal.png", "博赞", "r"],
        ["我在你身上看到了过去的我的影子。", "trial_happy.png", "博赞", "r"],
        ["如果你足够在意这个老头的这段疯话……", "trial_normal.png", "博赞", "r"],
        ["我可以给你……『利维坦』的坐标。这样，你就可以完成……我没能完成的事情。", "trial_normal.png", "博赞", "r"]
    ],
    10020007: [
        ["啊……这就是……『利维坦寿司』啊。", "trial_happy.png", "博赞", "r"],
        ["………………", "trial_ponder.png", "博赞", "r"],
        ["是啊……那一天结束了我的冒险生涯的，从来都不是它的触手或利齿。", "trial_normal.png", "博赞", "r"],
        ["只是我自己失掉了动力。", "trial_happy.png", "博赞", "r"],
        ["这股味道……让我想起了当年那个有着冒险精神的自己。", "trial_happy.png", "博赞", "r"],
        ["不，我想明白了。我并没有失去冒险精神。", "trial_normal.png", "博赞", "r"],
        ["哪怕已是残躯……也没必要就此放弃。", "trial_normal.png", "博赞", "r"],
        ["谢谢你，年轻人。", "trial_happy.png", "博赞", "r"],
        ["至于这份虚名，就给你吧。", "trial_badge_off.png", "博赞", "r"],

        ["你在说什么呢？", "player_upset.png", "$player", "l"],

        ["作为一名合金级别的传奇寿司店店长，你有作为协会会长的资格。", "trial_badge_off.png", "博赞", "r"],
        ["正好，我也要退休了。这是我的徽章……它代表着我推荐的人选。", "trial_badge_off.png", "博赞", "r"],
        ["虽说这并不意味着你一定能当选会长，但我对你的寿司有充足的信心。", "trial_badge_off.png", "博赞", "r"],

        ["这样啊。", "player_upset.png", "$player", "l"],
        ["谢谢。", "player_normal.png", "$player", "l"],

        ["如果你一开始告诉我我们会走到这一步……我大概会觉得你疯了吧。", "guide_normal.png", "阿莱娅", "r"],
        ["不过，这也还不是终点，对吧？", "guide_happy.png", "阿莱娅", "r"],

        ["能做到这种事情，你真的好厉害啊！", "cashier_happy.png", "欧珀尔", "r"],
        ["接下来要做什么……你应该比我们更清楚吧？", "cashier_normal.png", "欧珀尔", "r"],

        ["呵。我这辈子都没想过能见到传说中的利维坦。", "sushi_normal.png", "格温", "r"],
        ["更不可能想到是以寿司的形式见到。 ……简直太棒了。", "sushi_happy.png", "格温", "r"],

        ["……", "guard_normal.png", "小红帽", "r"],
        ["不得不说，你是真的挺牛逼的。", "guard_happy.png", "小红帽", "r"],

        ["耶！果然我没搞错。你是干大事的人啊！", "fish_happy.png", "莉莉", "r"],
        ["有什么需要的话，我随时待命。", "fish_trident.png", "莉莉", "r"],
        ["………………", "player_normal.png", "$player", "l"],
        ["是啊……冒险不必就此结束。", "player_normal.png", "$player", "l"],

        ["———— 海岛寿司店 完结 ————", "", "作者", "m"],
        ["接下来还是会更新一些版本的——比如打磨剧情啊，增加个人剧情啊，打磨平衡性啊……", "", "作者", "m"],
        ["但是主线不会更新了。总共就五章。", "", "作者", "m"],
        ["这个包之后我得有一段时间不做整合包了。我得把之前的整合包英化发到外网。", "", "作者", "m"],
        ["我还打算开一个KubeJS教程系列。", "", "作者", "m"],
        ["总之——谢谢你愿意花时间来玩这个整合包。下次再见。", "", "作者", "m"]
    ],
    10030001: [
        ["哟。你就是这里管事的？", "guard_normal.png", "小红帽", "r"],
        ["是的。请问你是……？", "player_upset.png", "$player", "l"],
        ["我就是那个新的保安。……叫我……『小红帽』就行。", "guard_happy.png", "小红帽", "r"],
        ["好的……“小红帽”？", "player_upset.png", "$player", "l"],
        ["只要让我呆在寿司店范围内，我就能帮你看着那帮子逃单的傻货。", "guard_normal.png", "小红帽", "r"],
        ["要是傻货实在太多，我平时会写点训练文档，你装订成手册就可以训练其他生物当保安了。", "guard_normal.png", "小红帽", "r"],
        ["我能问个问题吗？", "player_upset.png", "$player", "l"],
        ["取决于是什么问题。", "guard_axe.png", "小红帽", "r"],
        ["你问我要一把斧子做什么？", "player_upset.png", "$player", "l"],
        ["斧子啊………………", "guard_flashback.png", "小红帽", "r"],
        ["……………………", "", "……", "m"],
        ["哈喽？", "player_upset.png", "$player", "l"],
        ["你没事吧？", "player_normal.png", "$player", "l"],
        ["……啊？啊。个人原因。", "guard_normal.png", "小红帽", "r"],
        ["……", "player_upset.png", "$player", "l"],
        ["放心，不白拿你东西……我回头给你带点特产。", "guard_happy.png", "小红帽", "r"]
    ],
    10030002: [
        ["你好！我叫『欧珀尔』，是新来的收银员！", "cashier_happy.png", "欧珀尔", "r"],
        ["你就是阿莱娅提到的那个朋友吧。", "player_normal.png", "$player", "l"],
        ["是的！你也是阿莱娅的朋友吗？", "cashier_normal.png", "欧珀尔", "r"],
        ["啊……算是吧。", "player_normal.png", "$player", "l"],
        ["我觉得我们也能成为好朋友！", "cashier_happy.png", "欧珀尔", "r"],
        ["哎呀，跑题了——我只要呆在柜台周围3x3的区域内，就能帮忙收银！", "cashier_normal.png", "欧珀尔", "r"],
        ["收到的钱你可以右键柜台取走。", "cashier_normal.png", "欧珀尔", "r"],
        ["如果将来某一天你打算开分店……", "cashier_normal.png", "欧珀尔", "r"],
        ["或者觉得我干的不够好……", "cashier_upset.png", "欧珀尔", "r"],
        ["我平时可以帮忙写一些训练文档！你可以把它们装订成手册训练其他生物当收银员！", "cashier_happy.png", "欧珀尔", "r"],
        ["然后呢……我还会做各种甜点！", "cashier_happy.png", "欧珀尔", "r"],
        ["不过甜点好像不太适合在寿司店里面卖……", "cashier_normal.png", "欧珀尔", "r"],
        ["没关系！我平时做一些给大家吃！", "cashier_happy.png", "欧珀尔", "r"],
        ["谢谢……期待能尝尝你的手艺。", "player_normal.png", "$player", "l"]
    ],
    10030003: [
        ["…………", "sushi_normal.png", "格温", "r"],
        ["你就是新来的寿司师傅『格温』？", "player_upset.png", "$player", "l"],
        ["正是。只要在寿司台3x3范围内，我就能操作寿司台。", "sushi_normal.png", "格温", "r"],
        ["寿司台必须靠着传送带或置物台，而传送带的对面必须有一个装有生鱼片和寿司饭团的容器。", "sushi_upset.png", "格温", "r"],
        ["这样我才能好好地制作寿司。当然，我也可以写一些训练文档，你可以训练别的寿司师傅。", "sushi_normal.png", "格温", "r"],
        ["你说话倒是很干脆。", "player_normal.png", "$player", "l"],
        ["呵。我可以问你一个问题吗？", "sushi_upset.png", "格温", "r"],
        ["什么？", "player_upset.png", "$player", "l"],
        ["……你们是为了什么，而开这家寿司店的？", "sushi_normal.png", "格温", "r"],
        ["主要是为了钱。", "player_upset.png", "$player", "l"],
        ["哈！够干脆的回答。我喜欢。", "sushi_happy.png", "格温", "r"],
        ["也是我所期望的回答——好几个理想主义者呆在一块，互相之间就该为了理想之间的分歧打起来了。", "sushi_happy.png", "格温", "r"],
        ["你这是想说，你不是图名利？", "player_normal.png", "$player", "l"],
        ["我追寻的是极致的寿司美味。", "sushi_normal.png", "格温", "r"],
        ["当我尝到你们这些奇异的鱼肉的时候，我就知道我决不能放弃这次机会。", "sushi_happy.png", "格温", "r"],
        ["合作愉快。", "sushi_happy.png", "格温", "r"]
    ],
    10030004: [
        ["你这寿司店搞得还蛮像样的嘛！", "fish_normal.png", "莉莉", "r"],
        ["哎哟，组织里那帮老登听说你跑去开什么寿司店怕是都快气死了——", "fish_happy.png", "莉莉", "r"],
        ["莉莉……你来干什么？", "player_upset.png", "$player", "l"],
        ["我已经退役了。", "player_trident.png", "$player", "l"],
        ["哎，放心啦，我不是来游说你要回去啥的——", "fish_normal.png", "莉莉", "r"],
        ["其实嘛，我也不干啦！", "fish_happy.png", "莉莉", "r"],
        ["跑来投奔前辈混混日子不是挺好的嘛——更何况也不是说就和战斗从此绝缘了。", "fish_normal.png", "莉莉", "r"],
        ["现在各个环节都有人帮忙，但是潜入洞窟捕鱼这一环还是缺少人手，我说的没错吧？", "fish_trident.png", "莉莉", "r"],
        ["嘛，倒也确实。", "player_upset.png", "$player", "l"],
        ["对嘛对嘛！", "fish_happy.png", "莉莉", "r"],
        ["只要把『没有铭刻过的』钥匙给我，过一段时间我就可以帮你打好鱼！", "fish_normal.png", "莉莉", "r"],
        ["怎么样？很不错吧？", "fish_trident.png", "莉莉", "r"]
    ],
    10040001: [
        ["阿莱娅说你这边遇到麻烦了？", "player_upset.png", "$player", "l"],
        ["不是什么大问题。等一两周我布置好法阵就行。", "witch_normal.png", "弗罗斯特", "r"],
        ["说说看呗。也许我能帮忙呢。", "player_upset.png", "$player", "l"],
        ["哈！", "witch_upset.png", "弗罗斯特", "r"],
        ["本来计划开发的新区域里面有一群奇怪的深渊生物。", "witch_normal.png", "弗罗斯特", "r"],
        ["它们拒绝任何交涉，只知道攻击任何它们看到的陆地生物。", "witch_normal.png", "弗罗斯特", "r"],
        ["而且它们当中有一位强大的施法者给大部分区域施加了结界。", "witch_normal.png", "弗罗斯特", "r"],
        ["一时半会处理不了。你先去等着吧。", "witch_upset.png", "弗罗斯特", "r"],
        ["……它的坐标在哪？", "player_trident.png", "$player", "l"],
        ["你别发疯找死。", "witch_upset.png", "弗罗斯特", "r"],
        ["我有足够的自信。", "player_trident.png", "$player", "l"],
        ["哈！你小子。", "witch_happy.png", "弗罗斯特", "r"],
        ["这是前往它的藏身地的传送钥匙。小心它的深渊冲击波。", "witch_normal.png", "弗罗斯特", "r"]
    ],
    10040002: [
        ["又发生什么事了？", "player_upset.png", "$player", "l"],
        ["之前和你说过的那些深渊生物……那帮家伙他妈的有机甲。", "witch_upset.png", "弗罗斯特", "r"],
        ["……也不是机甲。一个用未知魔法驱动的珊瑚傀儡。", "witch_normal.png", "弗罗斯特", "r"],
        ["很强吗？", "player_upset.png", "$player", "l"],
        ["不弱。更何况，还有一群精英战士和傀儡协同作战。", "witch_upset.png", "弗罗斯特", "r"],
        ["如果你还是打算自己解决的话，最好做好万全的准备。", "witch_normal.png", "弗罗斯特", "r"],
        ["了解。", "player_trident.png", "$player", "l"],
        ["祝你好运。", "witch_happy.png", "弗罗斯特", "r"]
    ],
    10040003: [
        ["那帮家伙又干啥了？", "player_upset.png", "$player", "l"],
        ["啊，记得你上次干掉的那个傀儡吗？", "witch_upset.png", "弗罗斯特", "r"],
        ["事实证明不止有一个傀儡，而这些傀儡的力量之源……", "witch_normal.png", "弗罗斯特", "r"],
        ["一个巨大的珊瑚生物……", "witch_normal.png", "弗罗斯特", "r"],
        ["就堵在本该开发的新区域入口。", "witch_upset.png", "弗罗斯特", "r"],
        ["不过都是手下败将。", "player_trident.png", "$player", "l"],
        ["没那么简单。除了这个珊瑚生物，那片区域还有复数的渊灵和珊瑚傀儡。", "witch_upset.png", "弗罗斯特", "r"],
        ["这回，千万要小心。一旦被围殴，可就要陷入险境了。", "witch_happy.png", "弗罗斯特", "r"]
    ],
    10040004: [
        ["又出了什么情况？", "player_upset.png", "$player", "l"],
        ["科妮莉亚……", "witch_normal.png", "弗罗斯特", "r"],
        ["……哎。她的结局不应如此的。", "witch_upset.png", "弗罗斯特", "r"],
        ["我发现了一些东西……希望你能帮我一个忙。", "witch_normal.png", "弗罗斯特", "r"],
        ["……什么意思？", "player_normal.png", "$player", "l"],
        ["我希望你能帮我……解放一位老友被折磨的灵魂。", "witch_normal.png", "弗罗斯特", "r"],
        ["我不知道她身上发生了什么，她失去了自己的生命和血肉，被困在自己疯狂的幻觉里。", "witch_upset.png", "弗罗斯特", "r"],
        ["这个要求是不是有点强人所难了？但我……我自己做不到。", "witch_upset.png", "弗罗斯特", "r"],
        ["…………", "player_upset.png", "$player", "l"],
        ["拜托了。", "witch_normal.png", "弗罗斯特", "r"]
    ],


    10050101: [
        ["哈喽！有什么事吗？", "guide_normal.png", "阿莱娅", "r"]
    ],
    10050102: [
        ["寿司生意怎么样啊？", "guide_happy.png", "阿莱娅", "r"]
    ],
    10050103: [
        ["有什么我能帮上忙的吗？", "guide_happy.png", "阿莱娅", "r"]
    ],
    10050201: [
        ["哥们，你想干啥？", "guard_axe.png", "小红帽", "r"]
    ],
    10050202: [
        ["我在看着那帮家伙呢。", "guard_normal.png", "小红帽", "r"]
    ],
    10050203: [
        ["这岛上呆着还挺清闲的。", "guard_happy.png", "小红帽", "r"]
    ],
    10050301: [
        ["嗨！你最近过得怎么样呀？", "cashier_happy.png", "欧珀尔", "r"]
    ],
    10050302: [
        ["你喜欢我做的甜点吗？", "cashier_normal.png", "欧珀尔", "r"]
    ],
    10050303: [
        ["今天又是新的一天！", "cashier_happy.png", "欧珀尔", "r"]
    ],
    10050401: [
        ["配比……调料……肌肉纹理……", "sushi_upset.png", "格温", "r"],
        ["……我去，你什么时候站在那的？", "sushi_normal.png", "格温", "r"]
    ],
    10050402: [
        ["这里几乎每天都能见到新材料，这种事情我以前想都不敢想。", "sushi_happy.png", "格温", "r"]
    ],
    10050403: [
        ["……你这么看着我干什么？", "sushi_normal.png", "格温", "r"]
    ],
    10050501: [
        ["哈喽！你信不信我打鱼能比你快？", "fish_normal.png", "莉莉", "r"]
    ],
    10050502: [
        ["这岛上的环境确实不错嘛！", "fish_happy.png", "莉莉", "r"],
        ["怪不得有这么多客人呢。", "fish_normal.png", "莉莉", "r"]
    ],
    10050503: [
        ["你这么闲的话，要不要来比试两场？", "fish_trident.png", "莉莉", "r"],
        ["开玩笑的——", "fish_normal.png", "莉莉", "r"]
    ],
}




PlayerEvents.tick(event => {
    let player = event.player;
    //player.tell()
    let level = event.level
    let dial = player.persistentData.getInt("dialogue")
    let dialstage = player.persistentData.getInt("dialoguestage")
    let curstage = dialstage
    if (dial != 0) {
        let curdial = global.dialogues[dial]
        for (let i = 0; i < curdial.length; i++) {
            if (curstage < 0) break;
            if (curstage <= curdial[i][0].length) {
                level.runCommandSilent(`playsound minecraft:block.note_block.hat neutral ${player.getUsername().toString()} ${player.x} ${player.y} ${player.z} 0.3 1.1 0.3`)
                let text = {}
                text["text" + parseInt(curstage / 18)] = {
                    type: 'text',
                    text: curdial[i][0].slice(parseInt(curstage / 18) * 18, curstage + 1),
                    scale: 1.5,
                    visible: true,
                    alignX: "center",
                    alignY: "bottom",
                    x: 0, y: -70 + (parseInt(curstage / 18)) * 18,
                    draw: "ingame"
                }
                player.paint(text)
            }
            if (curstage == 0) {
                let chra = {}
                let chraname = curdial[i][2];
                if (chraname == "$player") {
                    chraname = player.getUsername()
                }
                chra["chraname"] = {
                    type: 'text',
                    text: chraname,
                    scale: 1.5,
                    visible: true,
                    alignX: "center",
                    alignY: "bottom",
                    x: 0, y: -90,
                    draw: "ingame"
                }
                if (curdial[i][3] == "l") {
                    chra["leftchra"] = {
                        color: '#FFFFFF',
                        type: 'rectangle',
                        draw: 'ingame',
                        visible: true,
                        x: "$screenW*0.05",
                        y: 0,
                        w: "$screenW*0.21", h: "$screenW*0.28",
                        alignX: 'left',
                        alignY: 'center',
                        texture: 'kubejs:textures/painter/' + curdial[i][1]
                    }
                    chra["rightchra"] = { color: '#888888' }
                }
                else if (curdial[i][3] == "r") {
                    chra["rightchra"] = {
                        color: '#FFFFFF',
                        type: 'rectangle',
                        draw: 'ingame',
                        visible: true,
                        x: "-$screenW*0.05",
                        y: 0,
                        w: "$screenW*0.21", h: "$screenW*0.28",
                        alignX: 'right',
                        alignY: 'center',
                        texture: 'kubejs:textures/painter/' + curdial[i][1]
                    }
                    chra["leftchra"] = { color: '#888888' }
                }
                else {
                    chra["leftchra"] = { color: '#888888' }
                    chra["rightchra"] = { color: '#888888' }
                }
                player.paint(chra)
            }
            if (curstage == 0) {
                player.paint({
                    text1: { type: 'text', visible: false }
                    , text2: { type: 'text', visible: false }
                    , text3: { type: 'text', visible: false }
                    , text4: { type: 'text', visible: false }
                })
            }
            curstage -= (curdial[i][0].length * 8)

        //     console.log("=======================");
        //     console.log(`dialstage: ${dialstage}, curstage: ${curstage},  ${parseInt(curstage / 18) * 18}`);
        //     if (curdial[i][0].slice(parseInt(curstage / 18) * 18, curstage + 1)) {
        //         console.log(curdial[i][0], `${parseInt(curstage / 18) * 18} ${curstage + 1}`);
        //         console.log(curdial[i][0].slice(parseInt(curstage / 18) * 18, curstage + 1));
        //     }
        //     console.log("-----------------------");
        }
        if (curstage > 0) {
            player.persistentData.putInt("dialogue", 0)
            player.persistentData.putInt("dialoguestage", 0)
            player.paint({
                rightchra: { type: 'rectangle', visible: false }
                , leftchra: { type: 'rectangle', visible: false }
                , chraname: { type: 'text', visible: false }
                , text0: { type: 'text', visible: false }
                , text1: { type: 'text', visible: false }
                , text2: { type: 'text', visible: false }
                , text3: { type: 'text', visible: false }
                , text4: { type: 'text', visible: false }
            })
        }
        else {
            player.persistentData.putInt("dialoguestage", dialstage + 1)
        }
    }
})

ItemEvents.firstLeftClicked("minecraft:stick", event => {
    let player = event.player
    player.persistentData.putInt("dialogue", 10010001)
    player.persistentData.putInt("dialoguestage", 0)
})

ItemEvents.firstLeftClicked("minecraft:trident", event => {
    let player = event.player
    let level = event.level

    if (player.persistentData.getInt("dialogue") != 0) {
        let dial = player.persistentData.getInt("dialogue")
        let dialstage = player.persistentData.getInt("dialoguestage")
        let curstage = dialstage
        let curdial = global.dialogues[dial]
        for (let i = 0; i < curdial.length; i++) {
            if (curstage < 0) break;
            curstage -= (curdial[i][0].length * 8)
        }
        player.persistentData.putInt("dialoguestage", dialstage - curstage)
        level.runCommandSilent(`playsound minecraft:item.trident.hit_ground ambient ${player.name.getString()}`)
        return;
    }
})